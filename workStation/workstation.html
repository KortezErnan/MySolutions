<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" name="Author" content="CrEn (Фокин Е. А.; Виткалов В.О.)">
    <title>Рабочие станции ООО "Промобит"</title>
</head>

<body>
    <!--Тип рабочей станции-->
    <div>
        <form name="typeWorkStation">
            <h2>Выберите тип рабочей станции</h2>
            <input type="radio" name="station" value="bigStation" />Большая
            <input type="radio" name="station" value="lowStation" />Маленькая
            <input type="radio" name="station" value="terminal" />Терминал
        </form>
    </div>
    <!--Цвет-->
    <div>
        <form name="typecolor">
            <h2>Выберите цвет рабочей станции</h2>
            <label for="color">Выберите цвет</label>
            <select id="color">
                <option value="nothing">-----</option>
                <option value="black">Черный</option>
                <option value="green">Зеленый</option>
            </select>
        </form>
    </div>
    <!--Защитное исполнение-->
    <div>
        <form name="protected">
            <h2>Нужно защищенное исполнение?</h2>
            <input type="radio" name="protect1" value="yes" />Да
            <input type="radio" name="protect1" value="no" />Нет <br>
            <input type="radio" name="protect2" value="cap" />Только крышка
            <input type="radio" name="protect2" value="cap+button" />Крышка + iButton
        </form>
    </div>
    <!--Процессор-->
    <div>
        <form name processor>
            <h2>Выберите производителя процессора:</h2>
            <input type="radio" name="processor" value="procElbrus" />Эльбрус
            <input type="radio" name="processor" value="procBaikal" />Байкал
            <input type="radio" name="processor" value="procIntel" />Intel
            <input type="radio" name="processor" value="procAmd" />AMD
            <input type="radio" name="processor" value="procNothing" />Процессор не нужен<br>

            <h3>Выберите процессор:</h3>
            <select id="elbrus" disabled>
                <option value="nothing">-----</option>
                <option value="elbrus8s">Эльбрус-8С</option>
                <option value="elbrus8sv">Эльбрус-8СВ</option>
            </select>
            <select id="baikal" disabled>
                <option value="nothing">-----</option>
                <option value="baikalM">Baikal-M</option>
            </select>
            <select id="intel" disabled>
                <option value="nothing">-----</option>
                <option value="i5 11400">Intel core i5 11400</option>
                <option value="i5 11400F">Intel core i5 11400F</option>
                <option value="i5 11500">Intel core i5 11500</option>
                <option value="i5 11600">Intel core i5 11600</option>
                <option value="i3 10100F">Intel core i3 10100F</option>
                <option value="i3 10105F">Intel core i3 10105F</option>
                <option value="i3 10100">Intel core i3 10100</option>
                <option value="i3 12100F">Intel core i3 12100F</option>
            </select>
            <select id="amd" disabled>
                <option value="nothing">-----</option>
                <option value="ryzen 5 5600G">AMD ryzen 5 5600G</option>
                <option value="ryzen 5 pro 5650G">AMD ryzen 5 PRO 5650G</option>
                <option value="ryzen 5 pro 4650G">AMD ryzen 5 PRO 4650G</option>
                <option value="ryzen 5 pro 5600X">AMD ryzen 5 5600X</option>
            </select>
        </form>
    </div>

    <!--Материнская плата-->
    <div>

        <fieldset id="motherboard">
            <form>
                <h2>Выберите форм-фактор материнской платы:</h2>
                <input type="radio" name="motherboard" onclick="typeMotherboard='mATX'" />mATX
                <input type="radio" name="motherboard" onclick="typeMotherboard='mITX'" />mITX <br>
                <h3>Выберите материнскую плату:</h3>
                <select id="mATX">
                    <option value="no">-----</option>
                    <option value="e8sv">1Э8СВ-mATX</option>
                    <option value="e8s">E8C-mATX</option>
                    <option value="mbe8spc">MBE8C-PC</option>
                    <option value="intel i3 12100f">GIGABYTE B560M AORUS ELITE</option>
                    <option value="amd all">ASUS PRIME A320M-K</option>
                </select>
                <select id="mITX">
                    <option value="no">-----</option>
                    <option value="tf307 baikal">Эдельвейс TF-307</option>
                    <option value="angara baikal">Ангара "Гравитон"</option>
                    <option value="elbrus8s">E8C-mITX</option>
                    <option value="intel i3 12100f">GIGABYTE B660I AORUS PRO DDR4</option>
                    <option value="intel other">MSI H510I PRO WIFI</option>
                    <option value="amd all">GIGABYTE B550I AORUS PRO AX</option>
                </select>
            </form>
        </fieldset>


    </div>
    <!--Оперативная память-->
    <div id="operative">
        <form>
            <fieldset>
                <p>
                    <label for="operative">Выберите оперативную память:</label>
                    <select id="operative">
                        <option value="no">-----</option>
                        <option value="8 GB">8 GB</option>
                        <option value="16 GB">16 GB</option>
                        <option value="32 GB">32 GB</option>
                        <option value="64 GB">64 GB</option>
                    </select>
                    <label for="numberOperative">Количество плат: </label>
                    <select id="numberOperative">
                        <option value="no">---</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                    </select>
                </p>
            </fieldset>
        </form>
    </div>
    <!--Видеокарта-->
    <div id="videocard">
        <form>
            <fieldset>
                <p>
                    <label for="videocard">Выберите видеокарту:</label>
                    <select id="videocard">
                        <option value="no">-----</option>
                        <option value="ВК1">Nvidia №1</option>
                        <option value="ВК2">Nvidia №2</option>
                        <option value="ВК3">Radeon №1</option>
                        <option value="ВК4">Radeon №2</option>
                    </select>
                </p>
            </fieldset>

        </form>
    </div>
    <!--Накопители-->
    <div>
        <form>
            <fieldset id="hardDisc">
                <p>
                    <label for="hdd">Выберите жесткий диск:</label>
                    <select id="hdd">
                        <option value="no">-----</option>
                        <option value="500 GB">500 GB</option>
                        <option value="1 TB">1 TB</option>
                        <option value="2 TB">2 TB</option>
                    </select>
                    <label for="numberOperative">Количество дисков: </label>
                    <select id="numberOperative">
                        <option value="0">---</option>
                        <option value="1">1</option>
                        <option value="2">2</option>
                        <option value="3">3</option>
                        <option value="4">4</option>
                    </select>
                </p>
            </fieldset>
        </form>
    </div>
    <!--Вентиляторы-->
    <div id="cooler">
        <form>
            <fieldset>
                <p>
                    <label for="cooler">Выберите вентиляторы:</label>
                    <select id="cooler">
                        <option value="no">-----</option>
                        <option value="Noctua 120">Noctua 120</option>
                        <option value="Noctua 80">Noctua 80</option>
                        <option value="Noname 120">Noname 120</option>
                    </select>
                    <label for="numberOperative">Количество вентиляторов: </label>
                    <select id="numberOperative">
                        <option value="0">---</option>
                        <option value="1">1</option>
                        <option value="2">2</option>

                    </select>
                </p>
            </fieldset>
        </form>
    </div>
    <!--Блок питания-->
    <div>
        <form>
            <fieldset id="powerStation">
                <p>
                    <label for="powerStation">Выберите блок питания:</label>
                    <select id="powerStation">
                        <option value="no">-----</option>
                        <option value="БП300">300 Вт</option>
                        <option value="БП400">400 Вт</option>
                        <option value="БП500">500 Вт</option>
                        <option value="БП600">600 Вт</option>
                    </select>
                </p>
            </fieldset>
        </form>
        <!--Операционная система-->
        <div>
            <form>
                <fieldset id="system">
                    <label for="powerStation">Выберите операционную систему:</label>
                    <select id="powerStation">
                        <option value="no">-----</option>
                        <option value="windows">Windows 10</option>
                        <option value="linux">ALT Linux</option>

                    </select>
                    </p>
                </fieldset>
            </form>
        </div>
        <!--Прочая информация-->
        <div>
            <label for="comment">Прочая информация:</label><br>
            <textarea id="comment" cols="30" rows="7"></textarea>
        </div>
        <!--Кнопка для окончательного расчета-->
        <form>
            <button type="submit" id="resume">Рассчитать</button>
        </form>
        <!--Результаты расчета-->
        <div>
            <fieldset id="resume">
                <label>Себестоимость: </label> <br>
                <input type="text" id="sebes" value="0"><br>
                Состав:<br>
                Коммерческое название:<br>
                Карты сборки: ?<br>
            </fieldset>

        </div>


        <script>
            //глобальные переменные
            // Объект в который собираются результаты
            var result = {
                "cost": 0,
                "color": 0,
                "protected": 0,
                "power": 0,
                "proc": 0,
                "motherboard": 0,
                "operation": 0,
                "videocard": 0,
                "hdd": 0,
                "cooler": 0,
                "powerStation": 0
            };
            // переменная для онлайн отображения себестоимости
            var sebes = document.getElementById("sebes");


            //Классы для комплектующих
            class Processor {
                constructor(name, cost, power, socket) {
                    this.name = name;
                    this.cost = cost;
                    this.power = power;
                    this.socket = socket;
                }
            }
            //Массив, хранящий модели процессоров
            var processorsModels = [];
            processorsModels[0] = new Processor("elbrus8s", 98, 80, "solder8s");  //цена учтена в стоимости платы
            processorsModels[1] = new Processor("elbrus8sv", 99, 110, "solder8sv");  //цена учтена в стоимости платы
            processorsModels[2] = new Processor("baikalM", 29500, 30, "solderB");
            processorsModels[3] = new Processor("i5 11400", 13800, 65, "LGA 1200");
            processorsModels[4] = new Processor("i5 11400F", 13800, 65, "LGA 1200");
            processorsModels[5] = new Processor("i5 11500", 16500, 65, "LGA 1200");
            processorsModels[6] = new Processor("i5 11600", 19000, 65, "LGA 1200");
            processorsModels[7] = new Processor("i3 10100F", 7100, 65, "LGA 1200");
            processorsModels[8] = new Processor("i3 10105F", 7600, 65, "LGA 1200");
            processorsModels[9] = new Processor("i3 10100", 8400, 65, "LGA 1200");
            processorsModels[10] = new Processor("i3 12100F", 10000, 89, "LGA 1700");
            processorsModels[11] = new Processor("ryzen 5 5600G", 16300, 65, "AM4");
            processorsModels[12] = new Processor("ryzen 5 pro 5650G", 19000, 65, "AM4");
            processorsModels[13] = new Processor("ryzen 5 pro 4650G", 15500, 65, "AM4");
            processorsModels[14] = new Processor("ryzen 5 pro 5600X", 17900, 65, "AM4");

            class Motherboard {
                constructor(name, cost, power, socket, numberOP, typeOP, volumeOP) {
                    this.name = name;
                    this.cost = cost;
                    this.power = power;
                    this.socket = socket;
                    this.numberOP = numberOP;
                    this.typeOP = typeOP;
                    this.volumeOP = volumeOP;
                }
            }
            var e8sv = new Motherboard("tvgi.469555.445", 150000, 30, "solder8sv", 4, "DDR-2400 ECC", 128);
            var e8s = new Motherboard("tvgi.469555.337", 120000, 30, "solder8s", 4, "DD3-1600 ECC", 64);
            var mbe8spc = new Motherboard("tvgi.469555.318-01", 120000, 30, "solder8s", 4, "DD3-1600 ECC", 64);



            //Функции
            // Функция, определяющая выбранный параметр
            function onclick(formName, specFunc) {
                let element = document.getElementsByName(formName);
                for (var i = 0; i < element.length; i++) {
                    element[i].addEventListener("click", specFunc)
                }
            };


            //Выбор типа станции, активация блока color
            function activateColor(e) {
                var station = e.target.value;   //получаем значение value выбранного элемента
                switch (station) {
                    case "bigStation":
                        result.cost = 100;  //стоимость самого корпуса
                        sebes.value = result.cost;
                        console.log(result);
                        break;
                    case "lowStation":
                        result.cost = 80;
                        sebes.value = result.cost;
                        console.log(result);
                        break;
                    case "terminal":
                        result.cost = 130;
                        sebes.value = result.cost;
                        console.log(result);
                        break;
                }
            };
            //Выбор цвета и активация блока protected
            function activateProtected(e) {
                var color = e.target.value;   //получаем значение value выбранного элемента
                switch (color) {
                    case "black":
                        result.color = "black";
                        console.log(result);
                        break;
                    case "green":
                        result.color = "green";
                        console.log(result);
                        break;
                }
            }
            //Выбор защищенного исполнения, активизиурющая блок processor
            function activateProcessor(e) {
                var protect = e.target.value;
                switch (protect) {
                    case "yes":
                        let element = document.getElementsByName("protect2");
                        for (var i = 0; i < element.length; i++) {
                            element[i].addEventListener("click", function (e) {
                                result.protected = e.target.value;
                                console.log(result);
                            })
                        }
                        break;
                    case "no":
                        result.protected = "off";
                        console.log(result);
                        break;
                }
            }
            //Выбор процессора и активация блока motherboard
            function activateMotherboard(e) {
                var typeProcessor = e.target.value; //выбираем производителя процессоров
                var modelProcessor = document.getElementsByTagName("select");   //выбираем все списки в документе
                var listElbrus = document.getElementById("elbrus"); //переменная для списка Эльбрусов
                var listBaikal = document.getElementById("baikal"); //переменная для списка Байкалов
                var listIntel = document.getElementById("intel"); //переменная для списка Интелов
                var listAmd = document.getElementById("amd"); //переменная для списка АМД
                var costProcessor = 0;  //стоимость процессора
                var selectedProcessor;  //переменная для определения конкретной модели процессора

                //цикл, определяющий выбранную модель процессора 
                function selectProcessor() {
                    for (var i = 0; i < modelProcessor.length; i++) {
                        modelProcessor[i].addEventListener("click", function (e) {
                            var selectedProcessor = e.target.value;
                            for (var j = 0; j < processorsModels.length; j++)
                                if (selectedProcessor == processorsModels[j].name)
                                    costProcessor = processorsModels[j].cost;
                            //продумать вариант с обнулением
                            result.cost += costProcessor;
                            sebes.value = result.cost;

                        })
                    }
                }
                //функция, отключающая ненужные поля
                function disabledFields() {
                    listElbrus.disabled = true;
                    listBaikal.disabled = true;
                    listIntel.disabled = true;
                    listAmd.disabled = true;
                }
                //selectProcessor();
                selectProcessor();
                console.log(costProcessor);
                switch (typeProcessor) {
                    case "procElbrus":
                        disabledFields();
                        listElbrus.disabled = false;
                        console.log(result);
                        break;
                    case "procBaikal":
                        disabledFields();
                        listBaikal.disabled = false;
                        console.log(1);
                        break;
                    case "procIntel":
                        disabledFields();
                        listIntel.disabled = false;
                        console.log(2);
                        break;
                    case "procAmd":
                        disabledFields();
                        listAmd.disabled = false;
                        console.log(3);
                        break;
                    case "procNothing":
                        console.log(4);
                        break;
                }

            }


            //Работа с блоком Тип рабочей станции
            onclick("typeWorkStation", activateColor);

            //Работа с блоком Цвет
            onclick("typecolor", activateProtected);

            //Работа с блоком Защитное исполнение
            onclick("protected", activateProcessor);

            //Работа с блоком Процессор
            onclick("processor", activateMotherboard);


        //Работа с блоком Материнская плата

        //Работа с блоком Оперативная память

        //Работа с блоком Видеокарта

        //Работа с блоком Накопители

        //Работа с блоком Вентиляторы

        //Работа с блоком Блок питания

        </script>
</body>

</html>